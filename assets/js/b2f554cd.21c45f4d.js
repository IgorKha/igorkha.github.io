"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1477],{10:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"benchmarks-miniPC-in-fanless-aluminum-case","metadata":{"permalink":"/blog/benchmarks-miniPC-in-fanless-aluminum-case","editUrl":"https://github.com/IgorKha/igorkha.github.io/tree/main/blog/2023-02-07-benchmarks-miniPC-in-fanless-aluminum-case/index.md","source":"@site/blog/2023-02-07-benchmarks-miniPC-in-fanless-aluminum-case/index.md","title":"Benchmarks miniPC in fanless aluminum case","description":"frontcase","date":"2023-02-07T00:00:00.000Z","formattedDate":"February 7, 2023","tags":[{"label":"intel","permalink":"/blog/tags/intel"},{"label":"sbc-bench","permalink":"/blog/tags/sbc-bench"},{"label":"benchmark","permalink":"/blog/tags/benchmark"}],"readingTime":14.16,"hasTruncateMarker":true,"authors":[{"name":"IgorKha","url":"https://github.com/IgorKha","imageURL":"https://github.com/IgorKha.png","key":"IgorKha"}],"frontMatter":{"slug":"benchmarks-miniPC-in-fanless-aluminum-case","title":"Benchmarks miniPC in fanless aluminum case","authors":"IgorKha","tags":["intel","sbc-bench","benchmark"]},"nextItem":{"title":"How disable IPv6 networking on Linux","permalink":"/blog/disable-ipv6-networking-on-linux"}},"content":"import BrowserWindow from \'@site/src/components/BrowserWindow\';\\n\\n![front_case](./img/IMG_1230.jpg)\\n\\n\x3c!--truncate--\x3e\\n\\n![back_case](./img/IMG_1231.jpg)\\n\\n## Hardware\\n\\n### Specification\\n\\n|                   |                                                                                                          |\\n|:-----------------:|:--------------------------------------------------------------------------------------------------------|\\n| **CPU**           | 11th Gen Intel(R) Core(TM) i7-1165G7 @ 2.80GHz / Intel Iris Xe Graphics  1.30 GHz                        |\\n| **RAM**           | 8GB 2667MT/s (PN: HMA81GS6CJR8N-VK) [2xDDR4 SODIMM/MAX 64Gb]                                             |\\n| **NVMe**          | Fanxiang S500 128GB (SN: FXS500222900092/FW Rev: U0521A0)                                                |\\n| **Network**       | 6x Intel i225-V B3 2,5G RJ45 LANs (Intel S1293L29-SLNMH)                                                                        |\\n| **Power Adapter** | 12V-5A (60W) [12-19V ]                                                                                   |\\n| **Other**         | 4xUSB3.0, 1xRJ45 COM, 1xHDMI2.0 4K @ 60Hz UHD, 1xM.2 2242/2280 NVMe/PCIE3.0x4 SSD + 1x2.5\'\'SATA SSD/HDD. |\\n| **Other**         | 1xSIM \u0441\u043b\u043e\u0442, 1xMPCIE wireless slot, support WiFi/3G/4G (choice of 1 of 3), SYS_FAN and CPU_FAN 3pins 5V, AMI bios                      |\\n| **Price**         | AliExpress $550                                                                                          |\\n\\n### Photos\\n\\n<details>\\n  <summary>Detail photos</summary>\\n\\n**Network chip:**\\n\\n![Intel S1293L29-SLNMH 2.5Gbps chip](./img/IMG_1233.jpg)\\n![open_case1](./img/IMG_1234.jpg)\\n![open_case2](./img/IMG_1236.jpg)\\n![open_case3](./img/IMG_1235.jpg)\\n\\n**CPU_FAN 5V:**\\n\\n![5v_Fan_3pins](./img/IMG_1240.jpg)\\n</details>\\n\\n## Benchmarks\\n\\n### sbc-bench without Fan\\n\\n* [Link ix.io](http://ix.io/4nmo)\\n\\n### sbc-bench with SYS_FAN 120mm (550 RPM)\\n\\n* [Link ix.io](http://ix.io/4nxi)\\n* [Test geekbench.com](https://browser.geekbench.com/v5/cpu/20462120)\\n* [Test geekbench full results](http://ix.io/4nCj)\\n\\n### sbc-bench with SYS_FAN 120mm (550 RPM) temp outside -1 degree Celsius\\n\\n* [Link ix.oi](http://ix.io/4nCV)\\n\\n### Summary\\n\\n| Device / details | Clockspeed | Kernel | Distro | 7-zip multi | 7-zip single | AES | memcpy | memset | kH/s | Comment |\\n| ----- | :--------: | :----: | :----: | ----: | ------: | ------: | -----: | -----: | ---: | :--- |\\n|  i7-1165G7 @ 2.80GHz | ~4520 | 5.4 | Ubuntu 20.04.5 LTS x86_64/amd64 | 20420 | 4702 | 1501600 | 9890 | 19780 | 71.53 | without Fan |\\n|  i7-1165G7 @ 2.80GHz | ~4460 | 5.4 | Ubuntu 20.04.5 LTS x86_64/amd64 | 20790 | 5111 | 1565430 | 9570 | 19440 | 73.96 | with SYS_FAN 120mm (550 RPM) |\\n|  i7-1165G7 @ 2.80GHz | 4700  | 5.4 | Ubuntu 20.04.5 LTS x86_64/amd64 | 22050 | 5475 | 1666320 | 16930 | 38630 | 77.12 | with SYS_FAN 120mm (550 RPM) temp outside -1 degree Celsius and dual-channel RAM |\\n\\n## PCI info\\n\\n<details>\\n  <summary>lspci -Qv</summary>\\n\\n<BrowserWindow>\\n\\n```yaml\\n00:00.0 Host bridge: Intel Corporation 11th Gen Core Processor Host Bridge/DRAM Registers (rev 01)\\n        DeviceName: Onboard - Other\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: bus master, fast devsel, latency 0\\n        Capabilities: [e0] Vendor Specific Information: Len=14 <?>\\n\\n00:02.0 VGA compatible controller: Intel Corporation TigerLake-LP GT2 [Iris Xe Graphics] (rev 01) (prog-if 00 [VGA controller])\\n        DeviceName: Onboard - Video\\n        Subsystem: Intel Corporation Device 2212\\n        Flags: bus master, fast devsel, latency 0, IRQ 255\\n        Memory at 6000000000 (64-bit, non-prefetchable) [size=16M]\\n        Memory at 4000000000 (64-bit, prefetchable) [size=256M]\\n        I/O ports at 3000 [size=64]\\n        Expansion ROM at 000c0000 [virtual] [disabled] [size=128K]\\n        Capabilities: [40] Vendor Specific Information: Len=0c <?>\\n        Capabilities: [70] Express Root Complex Integrated Endpoint, MSI 00\\n        Capabilities: [ac] MSI: Enable- Count=1/1 Maskable+ 64bit-\\n        Capabilities: [d0] Power Management version 2\\n        Capabilities: [100] Process Address Space ID (PASID)\\n        Capabilities: [200] Address Translation Service (ATS)\\n        Capabilities: [300] Page Request Interface (PRI)\\n        Capabilities: [320] Single Root I/O Virtualization (SR-IOV)\\n        Kernel modules: i915\\n\\n00:06.0 PCI bridge: Intel Corporation 11th Gen Core Processor PCIe Controller (rev 01) (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 122\\n        Bus: primary=00, secondary=01, subordinate=01, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: 51600000-516fffff [size=1M]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [40] Express Root Port (Slot+), MSI 00\\n        Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-\\n        Capabilities: [90] Subsystem: Intel Corporation Device 7270\\n        Capabilities: [a0] Power Management version 3\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [220] Access Control Services\\n        Capabilities: [150] Precision Time Measurement\\n        Capabilities: [280] Virtual Channel\\n        Capabilities: [a00] Downstream Port Containment\\n        Capabilities: [a30] Secondary PCI Express\\n        Capabilities: [a90] Data Link Feature <?>\\n        Capabilities: [a9c] Physical Layer 16.0 GT/s <?>\\n        Capabilities: [edc] Lane Margining at the Receiver <?>\\n        Kernel driver in use: pcieport\\n\\n00:0a.0 Signal processing controller: Intel Corporation Tigerlake Telemetry Aggregator Driver (rev 01)\\n        DeviceName: Onboard - Other\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: fast devsel\\n        Memory at 6001120000 (64-bit, non-prefetchable) [size=32K]\\n        Capabilities: [70] Express Root Complex Integrated Endpoint, MSI 00\\n        Capabilities: [d0] Power Management version 3\\n        Capabilities: [100] Designated Vendor-Specific <?>\\n        Capabilities: [110] Designated Vendor-Specific <?>\\n        Capabilities: [120] Designated Vendor-Specific <?>\\n\\n00:0d.0 USB controller: Intel Corporation Tiger Lake-LP Thunderbolt 4 USB Controller (rev 01) (prog-if 30 [XHCI])\\n        DeviceName: Onboard - Other\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: bus master, medium devsel, latency 0, IRQ 131\\n        Memory at 6001110000 (64-bit, non-prefetchable) [size=64K]\\n        Capabilities: [70] Power Management version 2\\n        Capabilities: [80] MSI: Enable+ Count=1/8 Maskable- 64bit+\\n        Capabilities: [90] Vendor Specific Information: Len=14 <?>\\n        Capabilities: [b0] Vendor Specific Information: Len=00 <?>\\n        Kernel driver in use: xhci_hcd\\n\\n00:14.0 USB controller: Intel Corporation Tiger Lake-LP USB 3.2 Gen 2x1 xHCI Host Controller (rev 20) (prog-if 30 [XHCI])\\n        DeviceName: Onboard - Other\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: bus master, medium devsel, latency 0, IRQ 132\\n        Memory at 6001100000 (64-bit, non-prefetchable) [size=64K]\\n        Capabilities: [70] Power Management version 2\\n        Capabilities: [80] MSI: Enable+ Count=1/8 Maskable- 64bit+\\n        Capabilities: [90] Vendor Specific Information: Len=14 <?>\\n        Capabilities: [b0] Vendor Specific Information: Len=00 <?>\\n        Kernel driver in use: xhci_hcd\\n\\n00:14.2 RAM memory: Intel Corporation Tiger Lake-LP Shared SRAM (rev 20)\\n        DeviceName: Onboard - Other\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: fast devsel\\n        Memory at 600112c000 (64-bit, non-prefetchable) [disabled] [size=16K]\\n        Memory at 6001132000 (64-bit, non-prefetchable) [disabled] [size=4K]\\n        Capabilities: [80] Power Management version 3\\n\\n00:16.0 Communication controller: Intel Corporation Tiger Lake-LP Management Engine Interface (rev 20)\\n        DeviceName: Onboard - Other\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: bus master, fast devsel, latency 0, IRQ 173\\n        Memory at 6001131000 (64-bit, non-prefetchable) [size=4K]\\n        Capabilities: [50] Power Management version 3\\n        Capabilities: [8c] MSI: Enable+ Count=1/1 Maskable- 64bit+\\n        Capabilities: [a4] Vendor Specific Information: Len=14 <?>\\n        Kernel driver in use: mei_me\\n        Kernel modules: mei_me\\n\\n00:17.0 SATA controller: Intel Corporation Tiger Lake-LP SATA Controller (rev 20) (prog-if 01 [AHCI 1.0])\\n        DeviceName: Onboard - SATA\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: bus master, 66MHz, medium devsel, latency 0, IRQ 133\\n        Memory at 51700000 (32-bit, non-prefetchable) [size=8K]\\n        Memory at 51703000 (32-bit, non-prefetchable) [size=256]\\n        I/O ports at 3090 [size=8]\\n        I/O ports at 3080 [size=4]\\n        I/O ports at 3060 [size=32]\\n        Memory at 51702000 (32-bit, non-prefetchable) [size=2K]\\n        Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-\\n        Capabilities: [70] Power Management version 3\\n        Capabilities: [a8] SATA HBA v1.0\\n        Kernel driver in use: ahci\\n        Kernel modules: ahci\\n\\n00:1c.0 PCI bridge: Intel Corporation Device a0bc (rev 20) (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 123\\n        Bus: primary=00, secondary=02, subordinate=05, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: 51300000-515fffff [size=3M]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [40] Express Root Port (Slot+), MSI 00\\n        Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-\\n        Capabilities: [90] Subsystem: Intel Corporation Device 7270\\n        Capabilities: [a0] Power Management version 3\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [220] Access Control Services\\n        Capabilities: [150] Precision Time Measurement\\n        Capabilities: [a30] Secondary PCI Express\\n        Capabilities: [a00] Downstream Port Containment\\n        Kernel driver in use: pcieport\\n\\n00:1c.5 PCI bridge: Intel Corporation Tigerlake PCH-LP PCI Express Root Port #6 (rev 20) (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 124\\n        Bus: primary=00, secondary=06, subordinate=06, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: 51000000-512fffff [size=3M]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [40] Express Root Port (Slot+), MSI 00\\n        Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-\\n        Capabilities: [90] Subsystem: Intel Corporation Device 7270\\n        Capabilities: [a0] Power Management version 3\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [220] Access Control Services\\n        Capabilities: [150] Precision Time Measurement\\n        Capabilities: [a30] Secondary PCI Express\\n        Capabilities: [a00] Downstream Port Containment\\n        Kernel driver in use: pcieport\\n\\n00:1c.6 PCI bridge: Intel Corporation Device a0be (rev 20) (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 125\\n        Bus: primary=00, secondary=07, subordinate=07, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: 50d00000-50ffffff [size=3M]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [40] Express Root Port (Slot+), MSI 00\\n        Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-\\n        Capabilities: [90] Subsystem: Intel Corporation Device 7270\\n        Capabilities: [a0] Power Management version 3\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [220] Access Control Services\\n        Capabilities: [150] Precision Time Measurement\\n        Capabilities: [a30] Secondary PCI Express\\n        Capabilities: [a00] Downstream Port Containment\\n        Kernel driver in use: pcieport\\n\\n00:1c.7 PCI bridge: Intel Corporation Tiger Lake-LP PCI Express Root Port #8 (rev 20) (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 126\\n        Bus: primary=00, secondary=08, subordinate=08, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: 50a00000-50cfffff [size=3M]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [40] Express Root Port (Slot+), MSI 00\\n        Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-\\n        Capabilities: [90] Subsystem: Intel Corporation Device 7270\\n        Capabilities: [a0] Power Management version 3\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [220] Access Control Services\\n        Capabilities: [150] Precision Time Measurement\\n        Capabilities: [a30] Secondary PCI Express\\n        Capabilities: [a00] Downstream Port Containment\\n        Kernel driver in use: pcieport\\n\\n00:1d.0 PCI bridge: Intel Corporation Tiger Lake-LP PCI Express Root Port #9 (rev 20) (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 127\\n        Bus: primary=00, secondary=09, subordinate=09, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: 50700000-509fffff [size=3M]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [40] Express Root Port (Slot+), MSI 00\\n        Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-\\n        Capabilities: [90] Subsystem: Intel Corporation Device 7270\\n        Capabilities: [a0] Power Management version 3\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [220] Access Control Services\\n        Capabilities: [150] Precision Time Measurement\\n        Capabilities: [a30] Secondary PCI Express\\n        Capabilities: [a00] Downstream Port Containment\\n        Kernel driver in use: pcieport\\n\\n00:1d.1 PCI bridge: Intel Corporation Device a0b1 (rev 20) (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 128\\n        Bus: primary=00, secondary=0a, subordinate=0a, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: 50400000-506fffff [size=3M]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [40] Express Root Port (Slot+), MSI 00\\n        Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-\\n        Capabilities: [90] Subsystem: Intel Corporation Device 7270\\n        Capabilities: [a0] Power Management version 3\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [220] Access Control Services\\n        Capabilities: [150] Precision Time Measurement\\n        Capabilities: [a30] Secondary PCI Express\\n        Capabilities: [a00] Downstream Port Containment\\n        Kernel driver in use: pcieport\\n\\n00:1f.0 ISA bridge: Intel Corporation Tiger Lake-LP LPC Controller (rev 20)\\n        DeviceName: Onboard - Other\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: bus master, fast devsel, latency 0\\n\\n00:1f.3 Audio device: Intel Corporation Tiger Lake-LP Smart Sound Technology Audio Controller (rev 20)\\n        DeviceName: Onboard - Sound\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: fast devsel, IRQ 16\\n        Memory at 6001128000 (64-bit, non-prefetchable) [size=16K]\\n        Memory at 6001000000 (64-bit, non-prefetchable) [size=1M]\\n        Capabilities: [50] Power Management version 3\\n        Capabilities: [80] Vendor Specific Information: Len=14 <?>\\n        Capabilities: [60] MSI: Enable- Count=1/1 Maskable- 64bit+\\n        Kernel driver in use: snd_hda_intel\\n        Kernel modules: snd_hda_intel, snd_sof_pci\\n\\n00:1f.4 SMBus: Intel Corporation Tiger Lake-LP SMBus Controller (rev 20)\\n        DeviceName: Onboard - Other\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: medium devsel, IRQ 16\\n        Memory at 6001130000 (64-bit, non-prefetchable) [size=256]\\n        I/O ports at efa0 [size=32]\\n        Kernel driver in use: i801_smbus\\n        Kernel modules: i2c_i801\\n\\n00:1f.5 Serial bus controller: Intel Corporation Tiger Lake-LP SPI Controller (rev 20)\\n        DeviceName: Onboard - Other\\n        Subsystem: Intel Corporation Device 7270\\n        Flags: fast devsel\\n        Memory at 51704000 (32-bit, non-prefetchable) [size=4K]\\n\\n01:00.0 Non-Volatile memory controller: Silicon Motion, Inc. SM2263EN/SM2263XT SSD Controller (rev 03) (prog-if 02 [NVM Express])\\n        Subsystem: Silicon Motion, Inc. SM2263EN/SM2263XT SSD Controller\\n        Flags: bus master, fast devsel, latency 0, IRQ 16, NUMA node 0\\n        Memory at 51600000 (64-bit, non-prefetchable) [size=16K]\\n        Capabilities: [40] Power Management version 3\\n        Capabilities: [50] MSI: Enable- Count=1/8 Maskable+ 64bit+\\n        Capabilities: [70] Express Endpoint, MSI 00\\n        Capabilities: [b0] MSI-X: Enable+ Count=16 Masked-\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [158] Secondary PCI Express\\n        Capabilities: [178] Latency Tolerance Reporting\\n        Capabilities: [180] L1 PM Substates\\n        Kernel driver in use: nvme\\n        Kernel modules: nvme\\n\\n02:00.0 PCI bridge: ASMedia Technology Inc. ASM1182e 2-Port PCIe x1 Gen2 Packet Switch (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 16\\n        Bus: primary=02, secondary=03, subordinate=05, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: 51300000-515fffff [size=3M]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [50] MSI: Enable- Count=1/1 Maskable- 64bit+\\n        Capabilities: [78] Power Management version 3\\n        Capabilities: [80] Express Upstream Port, MSI 00\\n        Capabilities: [c0] Subsystem: ASMedia Technology Inc. ASM1182e 2-Port PCIe x1 Gen2 Packet Switch\\n        Capabilities: [100] Virtual Channel\\n        Capabilities: [200] Advanced Error Reporting\\n        Capabilities: [300] Vendor Specific Information: ID=0000 Rev=0 Len=c00 <?>\\n        Kernel driver in use: pcieport\\n\\n03:03.0 PCI bridge: ASMedia Technology Inc. ASM1182e 2-Port PCIe x1 Gen2 Packet Switch (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 129\\n        Bus: primary=03, secondary=04, subordinate=04, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: 51300000-515fffff [size=3M]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [50] MSI: Enable+ Count=1/1 Maskable- 64bit+\\n        Capabilities: [78] Power Management version 3\\n        Capabilities: [80] Express Downstream Port (Slot+), MSI 00\\n        Capabilities: [c0] Subsystem: ASMedia Technology Inc. ASM1182e 2-Port PCIe x1 Gen2 Packet Switch\\n        Capabilities: [100] Virtual Channel\\n        Capabilities: [200] Advanced Error Reporting\\n        Kernel driver in use: pcieport\\n\\n03:07.0 PCI bridge: ASMedia Technology Inc. ASM1182e 2-Port PCIe x1 Gen2 Packet Switch (prog-if 00 [Normal decode])\\n        Flags: bus master, fast devsel, latency 0, IRQ 130\\n        Bus: primary=03, secondary=05, subordinate=05, sec-latency=0\\n        I/O behind bridge: [disabled]\\n        Memory behind bridge: [disabled]\\n        Prefetchable memory behind bridge: [disabled]\\n        Capabilities: [50] MSI: Enable+ Count=1/1 Maskable- 64bit+\\n        Capabilities: [78] Power Management version 3\\n        Capabilities: [80] Express Downstream Port (Slot+), MSI 00\\n        Capabilities: [c0] Subsystem: ASMedia Technology Inc. ASM1182e 2-Port PCIe x1 Gen2 Packet Switch\\n        Capabilities: [100] Virtual Channel\\n        Capabilities: [200] Advanced Error Reporting\\n        Kernel driver in use: pcieport\\n\\n04:00.0 Ethernet controller: Intel Corporation Ethernet Controller I225-V (rev 03)\\n        Subsystem: Intel Corporation Device 0000\\n        Flags: bus master, fast devsel, latency 0, IRQ 19\\n        Memory at 51400000 (32-bit, non-prefetchable) [size=1M]\\n        Memory at 51500000 (32-bit, non-prefetchable) [size=16K]\\n        Expansion ROM at 51300000 [disabled] [size=1M]\\n        Capabilities: [40] Power Management version 3\\n        Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+\\n        Capabilities: [70] MSI-X: Enable+ Count=5 Masked-\\n        Capabilities: [a0] Express Endpoint, MSI 00\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [140] Device Serial Number 00-90-27-ff-ff-e7-45-a3\\n        Capabilities: [1c0] Latency Tolerance Reporting\\n        Capabilities: [1f0] Precision Time Measurement\\n        Capabilities: [1e0] L1 PM Substates\\n        Kernel driver in use: igc\\n        Kernel modules: igc\\n\\n06:00.0 Ethernet controller: Intel Corporation Ethernet Controller I225-V (rev 03)\\n        Subsystem: Intel Corporation Device 0000\\n        Flags: bus master, fast devsel, latency 0, IRQ 17\\n        Memory at 51100000 (32-bit, non-prefetchable) [size=1M]\\n        Memory at 51200000 (32-bit, non-prefetchable) [size=16K]\\n        Expansion ROM at 51000000 [disabled] [size=1M]\\n        Capabilities: [40] Power Management version 3\\n        Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+\\n        Capabilities: [70] MSI-X: Enable+ Count=5 Masked-\\n        Capabilities: [a0] Express Endpoint, MSI 00\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [140] Device Serial Number 00-90-27-ff-ff-e7-45-a4\\n        Capabilities: [1c0] Latency Tolerance Reporting\\n        Capabilities: [1f0] Precision Time Measurement\\n        Capabilities: [1e0] L1 PM Substates\\n        Kernel driver in use: igc\\n        Kernel modules: igc\\n\\n07:00.0 Ethernet controller: Intel Corporation Ethernet Controller I225-V (rev 03)\\n        Subsystem: Intel Corporation Device 0000\\n        Flags: bus master, fast devsel, latency 0, IRQ 18\\n        Memory at 50e00000 (32-bit, non-prefetchable) [size=1M]\\n        Memory at 50f00000 (32-bit, non-prefetchable) [size=16K]\\n        Expansion ROM at 50d00000 [disabled] [size=1M]\\n        Capabilities: [40] Power Management version 3\\n        Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+\\n        Capabilities: [70] MSI-X: Enable+ Count=5 Masked-\\n        Capabilities: [a0] Express Endpoint, MSI 00\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [140] Device Serial Number 00-90-27-ff-ff-e7-45-a5\\n        Capabilities: [1c0] Latency Tolerance Reporting\\n        Capabilities: [1f0] Precision Time Measurement\\n        Capabilities: [1e0] L1 PM Substates\\n        Kernel driver in use: igc\\n        Kernel modules: igc\\n\\n08:00.0 Ethernet controller: Intel Corporation Ethernet Controller I225-V (rev 03)\\n        Subsystem: Intel Corporation Device 0000\\n        Flags: bus master, fast devsel, latency 0, IRQ 19\\n        Memory at 50b00000 (32-bit, non-prefetchable) [size=1M]\\n        Memory at 50c00000 (32-bit, non-prefetchable) [size=16K]\\n        Expansion ROM at 50a00000 [disabled] [size=1M]\\n        Capabilities: [40] Power Management version 3\\n        Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+\\n        Capabilities: [70] MSI-X: Enable+ Count=5 Masked-\\n        Capabilities: [a0] Express Endpoint, MSI 00\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [140] Device Serial Number 00-90-27-ff-ff-e7-45-a6\\n        Capabilities: [1c0] Latency Tolerance Reporting\\n        Capabilities: [1f0] Precision Time Measurement\\n        Capabilities: [1e0] L1 PM Substates\\n        Kernel driver in use: igc\\n        Kernel modules: igc\\n\\n09:00.0 Ethernet controller: Intel Corporation Ethernet Controller I225-V (rev 03)\\n        Subsystem: Intel Corporation Device 0000\\n        Flags: bus master, fast devsel, latency 0, IRQ 16\\n        Memory at 50800000 (32-bit, non-prefetchable) [size=1M]\\n        Memory at 50900000 (32-bit, non-prefetchable) [size=16K]\\n        Expansion ROM at 50700000 [disabled] [size=1M]\\n        Capabilities: [40] Power Management version 3\\n        Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+\\n        Capabilities: [70] MSI-X: Enable+ Count=5 Masked-\\n        Capabilities: [a0] Express Endpoint, MSI 00\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [140] Device Serial Number 00-90-27-ff-ff-e7-45-a7\\n        Capabilities: [1c0] Latency Tolerance Reporting\\n        Capabilities: [1f0] Precision Time Measurement\\n        Capabilities: [1e0] L1 PM Substates\\n        Kernel driver in use: igc\\n        Kernel modules: igc\\n\\n0a:00.0 Ethernet controller: Intel Corporation Ethernet Controller I225-V (rev 03)\\n        Subsystem: Intel Corporation Device 0000\\n        Flags: bus master, fast devsel, latency 0, IRQ 17\\n        Memory at 50500000 (32-bit, non-prefetchable) [size=1M]\\n        Memory at 50600000 (32-bit, non-prefetchable) [size=16K]\\n        Expansion ROM at 50400000 [disabled] [size=1M]\\n        Capabilities: [40] Power Management version 3\\n        Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+\\n        Capabilities: [70] MSI-X: Enable+ Count=5 Masked-\\n        Capabilities: [a0] Express Endpoint, MSI 00\\n        Capabilities: [100] Advanced Error Reporting\\n        Capabilities: [140] Device Serial Number 00-90-27-ff-ff-e7-45-a8\\n        Capabilities: [1c0] Latency Tolerance Reporting\\n        Capabilities: [1f0] Precision Time Measurement\\n        Capabilities: [1e0] L1 PM Substates\\n        Kernel driver in use: igc\\n        Kernel modules: igc\\n```\\n\\n</BrowserWindow>\\n\\n</details>\\n\\n## Additional information\\n\\n:::info\\n\\n* [AliExpress SKU](https://m.aliexpress.ru/item/1005004325322975.html?sku_id=12000028762257776)\\n\\n* [All in Boom! 6 \u7f51\u53e3 i225 2.5G \u5c0f\u4e3b\u673a\u4ece\u5f00\u7bb1\u5230\u5e72\u6d3b\uff0c\u591a\u56fe\u5206\u4eab\uff01](https://www.v2ex.com/t/857328)"},{"id":"disable-ipv6-networking-on-linux","metadata":{"permalink":"/blog/disable-ipv6-networking-on-linux","editUrl":"https://github.com/IgorKha/igorkha.github.io/tree/main/blog/2022-12-07-How-disable-ipv6.md","source":"@site/blog/2022-12-07-How-disable-ipv6.md","title":"How disable IPv6 networking on Linux","description":"sysctl","date":"2022-12-07T00:00:00.000Z","formattedDate":"December 7, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"network","permalink":"/blog/tags/network"},{"label":"IPv6","permalink":"/blog/tags/i-pv-6"},{"label":"sysctl","permalink":"/blog/tags/sysctl"},{"label":"grub","permalink":"/blog/tags/grub"}],"readingTime":0.41,"hasTruncateMarker":true,"authors":[{"name":"IgorKha","url":"https://github.com/IgorKha","imageURL":"https://github.com/IgorKha.png","key":"IgorKha"}],"frontMatter":{"slug":"disable-ipv6-networking-on-linux","title":"How disable IPv6 networking on Linux","authors":"IgorKha","tags":["linux","network","IPv6","sysctl","grub"]},"prevItem":{"title":"Benchmarks miniPC in fanless aluminum case","permalink":"/blog/benchmarks-miniPC-in-fanless-aluminum-case"},"nextItem":{"title":"Simple aarch64 emulation in Proxmox","permalink":"/blog/proxmox-qemu-aarch64"}},"content":"\x3c!--truncate--\x3e\\n## sysctl\\n\\n```bash\\nsudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\\nsudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\\nsudo sysctl -w net.ipv6.conf.lo.disable_ipv6=1\\nsudo sysctl -p\\n```\\n\\nor append the following lines to `/etc/sysctl.conf`\\n\\n```text title=\\"sudo nano /etc/sysctl.conf\\"\\nnet.ipv6.conf.all.disable_ipv6=1\\nnet.ipv6.conf.default.disable_ipv6=1\\nnet.ipv6.conf.lo.disable_ipv6=1\\n```\\n\\nand apply changes (or reboot)\\n\\n```bash\\nsudo sysctl -p\\n```\\n\\n## grub\\n\\nAdd the following param `ipv6.disable=1` to `/etc/default/grub`\\n\\n```text title=\\"sudo nano /etc/default/grub\\"\\nGRUB_CMDLINE_LINUX_DEFAULT=\\"quiet splash ipv6.disable=1\\"\\nGRUB_CMDLINE_LINUX=\\"ipv6.disable=1\\"\\n```\\n\\nand apply changes\\n\\n```bash\\nsudo update-grub\\n```\\n\\nApply grub changes in Arch Linux\\n\\n```bash\\nsudo grub-mkconfig -o /boot/grub/grub.cfg\\n```"},{"id":"proxmox-qemu-aarch64","metadata":{"permalink":"/blog/proxmox-qemu-aarch64","editUrl":"https://github.com/IgorKha/igorkha.github.io/tree/main/blog/2022-12-07-qemu-aarch64/index.md","source":"@site/blog/2022-12-07-qemu-aarch64/index.md","title":"Simple aarch64 emulation in Proxmox","description":"Simple aarch64 emulation in Proxmox","date":"2022-12-07T00:00:00.000Z","formattedDate":"December 7, 2022","tags":[{"label":"qemu","permalink":"/blog/tags/qemu"},{"label":"proxmox","permalink":"/blog/tags/proxmox"},{"label":"linux","permalink":"/blog/tags/linux"},{"label":"debian","permalink":"/blog/tags/debian"},{"label":"aarch64","permalink":"/blog/tags/aarch-64"}],"readingTime":0.28,"hasTruncateMarker":true,"authors":[{"name":"IgorKha","url":"https://github.com/IgorKha","imageURL":"https://github.com/IgorKha.png","key":"IgorKha"}],"frontMatter":{"slug":"proxmox-qemu-aarch64","title":"Simple aarch64 emulation in Proxmox","authors":"IgorKha","tags":["qemu","proxmox","linux","debian","aarch64"]},"prevItem":{"title":"How disable IPv6 networking on Linux","permalink":"/blog/disable-ipv6-networking-on-linux"},"nextItem":{"title":"Arch Linux with U2F","permalink":"/blog/arch-linux-with-u2f"}},"content":"import BrowserWindow from \'@site/src/components/BrowserWindow\';\\n\\n![Simple aarch64 emulation in Proxmox](./qemuarm64.png)\\n\\n\x3c!--truncate--\x3e\\n\\n<BrowserWindow>\\n\\n```text title=\\"nano /etc/pve/qemu-server/124.conf\\"\\n// highlight-yellow\\n#vmgenid%3A 0e34fef6-0336-4748-86f8-314346f2d087\\n// highlight-green\\narch: aarch64\\nbios: ovmf\\nboot: order=scsi2;scsi0;net0\\ncores: 4\\nmemory: 2048\\nmeta: creation-qemu=7.1.0,ctime=1670353758\\nname: arm\\nnet0: e1000=0A:57:71:2D:2C:88,bridge=vmbr0,firewall=1\\nnuma: 0\\nostype: l26\\nscsi0: raid:124/vm-124-disk-0.qcow2,size=32G\\nscsi2: raid:iso/debian-11.5.0-arm64-netinst.iso,media=cdrom,size=329004K\\nscsihw: virtio-scsi-pci\\nserial0: socket\\nsmbios1: uuid=998276ea-30eb-4bd1-b255-e9691ee5a96e\\nsockets: 1\\nvga: serial0\\n```\\n</BrowserWindow>"},{"id":"arch-linux-with-u2f","metadata":{"permalink":"/blog/arch-linux-with-u2f","editUrl":"https://github.com/IgorKha/igorkha.github.io/tree/main/blog/2022-11-26-Arch-Linux-with-Yubico-U2F/index.md","source":"@site/blog/2022-11-26-Arch-Linux-with-Yubico-U2F/index.md","title":"Arch Linux with U2F","description":"Linux-u2f.png","date":"2022-11-26T00:00:00.000Z","formattedDate":"November 26, 2022","tags":[{"label":"security","permalink":"/blog/tags/security"},{"label":"key","permalink":"/blog/tags/key"},{"label":"yubico","permalink":"/blog/tags/yubico"},{"label":"solokeys","permalink":"/blog/tags/solokeys"},{"label":"U2F","permalink":"/blog/tags/u-2-f"},{"label":"FIDO2","permalink":"/blog/tags/fido-2"},{"label":"arch","permalink":"/blog/tags/arch"},{"label":"linux","permalink":"/blog/tags/linux"},{"label":"pam","permalink":"/blog/tags/pam"},{"label":"sddm","permalink":"/blog/tags/sddm"},{"label":"ssh","permalink":"/blog/tags/ssh"}],"readingTime":7.52,"hasTruncateMarker":true,"authors":[{"name":"IgorKha","url":"https://github.com/IgorKha","imageURL":"https://github.com/IgorKha.png","key":"IgorKha"}],"frontMatter":{"slug":"arch-linux-with-u2f","title":"Arch Linux with U2F","authors":"IgorKha","tags":["security","key","yubico","solokeys","U2F","FIDO2","arch","linux","pam","sddm","ssh"]},"prevItem":{"title":"Simple aarch64 emulation in Proxmox","permalink":"/blog/proxmox-qemu-aarch64"},"nextItem":{"title":"Bandwidth ZeroTier on NXP LS1046","permalink":"/blog/Bandwidth-ZeroTier-on-NXP-LS1046"}},"content":"![Linux-u2f.png](./Linux-u2f.png)\\n\\nThis method will work with ANY security keys that support the U2F standard\\n\\n\x3c!--truncate--\x3e\\n\\n## Prerequisites\\n\\n* A Security key supporting the U2F Standard\\n* Linux\\n* root access to the System you are gonna configure 2FA for\\n\\n## Installation the pam-u2f\\n\\n### Arch Linux\\n\\n```bash\\nsudo pacman -Sy --needed pam-u2f\\n```\\n\\n### Debian/Ubuntu\\n\\n```bash\\nsudo apt update && sudo apt install libpam-u2f\\n```\\n\\n### Source code\\n\\n[![github](https://img.shields.io/badge/Github-Yubico/pam--u2f-black?logo=github)](https://github.com/Yubico/pam-u2f)\\n\\n![GitHub Repo stars](https://img.shields.io/github/stars/yubico/pam-u2f?color=yellow&logo=github)\\n\\n![GitHub last commit](https://img.shields.io/github/last-commit/Yubico/pam-u2f?logo=github)\\n\\n## Configure Security keys\\n\\nThe `pam-u2f` package provides a handy tool to configure Security Keys for our users called `pamu2fcfg`\\n\\n```text  title=\\"$ pamu2fcfg --help\\"\\nUsage: pamu2fcfg [OPTION]...\\nPerform a FIDO2/U2F registration operation and print a configuration line that\\ncan be used with the pam_u2f module.\\n\\n  -h, --help               Print help and exit\\n      --version            Print version and exit\\n  -o, --origin=STRING      Relying party ID to use during registration,\\n                             defaults to pam://hostname\\n  -i, --appid=STRING       Relying party name to use during registration,\\n                             defaults to the value of origin\\n  -t, --type=STRING        COSE type to use during registration (ES256, EDDSA,\\n                             or RS256), defaults to ES256\\n  -r, --resident           Generate a resident (discoverable) credential\\n  -P, --no-user-presence   Allow the credential to be used without ensuring the\\n                             user\'s presence\\n  -N, --pin-verification   Require PIN verification during authentication\\n  -V, --user-verification  Require user verification during authentication\\n  -d, --debug              Print debug information\\n  -v, --verbose            Print information about chosen origin and appid\\n  -u, --username=STRING    The name of the user registering the device,\\n                             defaults to the current user name\\n  -n, --nouser             Print only registration information (key handle,\\n                             public key, and options), useful for appending\\n\\nReport bugs at <https://github.com/Yubico/pam-u2f/issues>.\\n```\\n\\n### Individual Authorization Mapping by User\\n\\n1. Create folder:\\n\\n    ```bash\\n    mkdir -p ~/.config/Yubico\\n    ```\\n\\n2. Make user keys:\\n\\n    ```bash\\n    pamu2fcfg > ~/.config/Yubico/u2f_keys\\n    ```\\n\\n    2.1 Add Additional keys using\\n\\n    ```bash\\n    pamu2fcfg >> ~/.config/Yubico/u2f_keys\\n    ```\\n\\n*pamu2fcfg example output:*\\n\\n ```text title=\\"/home/user/.config/Yubico/u2f_keys\\"\\n username:1pQTIDIGWLfyRhYjiFpJeSlSxN4fqdY0ucl59VxQdS0qV9QxDgb5HGL1Hd18o1gQ1wr9B3BP60tk4735JrIE7A==,KPMgCkrhND9yMKaImqwgywBVJlIHc8rDUVbMirXCG70X+bzld/a6HWOjaSlzUXinVp3yfofx96wgmSWkGX6poQ==,es256,+presence\\n ```\\n\\n### Central Authorization Mapping\\n\\nCreate a file e.g. `/etc/u2f_mappings`. The file must contain a user name, and the information obtained during the registration procedure.\\n\\n```bash\\npamu2fcfg -u username1 >> /etc/u2f_mappings\\n```\\n\\n## Activate the pam_u2f.so module in PAM\\n\\nConfigure pam-u2f as a `required` module after your primary authentication module(s) for use as a second factor. Make sure that the primary authentication method is not `sufficient` or uses other control values that may preempt execution of pam-u2f.\\n\\n### Dealing with SDDM\\n\\n1. For correctly work SDDM with U2F, need to change `system-login` to `system-local-login` into `/etc/pam.d/sddm` Failing to do this will result in the KDE lock screen, and terminal access requiring U2F, but the initial login via SDDM bypassing U2F, which defeats the purpose of having two factor authentication.\\n2. Add the following line to config file (change `username`)\\n\\n    `auth            required        pam_u2f.so authfile=/home/<username>/.config/Yubico/u2f_keys`\\n\\nsddm config **before** adding U2F:\\n\\n```text title=\\"/etc/pam.d/sddm\\" showLineNumbers\\n#%PAM-1.0\\n\\n// highlight-red\\nauth           include         system-login\\n-auth           optional        pam_gnome_keyring.so\\n-auth   optional  pam_kwallet5.so\\n\\naccount         include         system-login\\n\\npassword        include         system-login\\n-password       optional        pam_gnome_keyring.so use_authtok\\n\\nsession         optional        pam_keyinit.so force revoke\\nsession         include         system-login\\n-session                optional        pam_gnome_keyring.so auto_start\\n-session  optional  pam_kwallet5.so auto_start\\n```\\n\\nsddm config **after** adding U2F:\\n\\n```text title=\\"/etc/pam.d/sddm\\" showLineNumbers\\n#%PAM-1.0\\n\\n// highlight-green\\nauth            include         system-local-login\\n-auth           optional        pam_gnome_keyring.so\\n-auth   optional  pam_kwallet5.so\\n// highlight-green\\nauth            required        pam_u2f.so authfile=/home/<username>/.config/Yubico/u2f_keys\\n\\naccount         include         system-login\\n\\npassword        include         system-login\\n-password       optional        pam_gnome_keyring.so use_authtok\\n\\nsession         optional        pam_keyinit.so force revoke\\nsession         include         system-login\\n-session                optional        pam_gnome_keyring.so auto_start\\n-session  optional  pam_kwallet5.so auto_start\\n```\\n\\n:::tip\\n\\nAdd the same version to the top of `/etc/pam.d/kde` to protect the KDE Plasma lock screen.\\n\\n`auth            required        pam_u2f.so authfile=/home/<username>/.config/Yubico/u2f_keys`\\n\\n:::\\n\\n:::info PAM Configuration (Reference)\\n\\n<details>\\n  <summary>PAM Configuration File Syntax</summary>\\n\\nThe entries in the configuration file are in the format:\\n\\n**`service-name module-type control-flag module-path module-options`**\\n\\n---\\n\\n**service-name** - Name of the service, for example, `ftp`, `login`, or `passwd`. An application can use different service names for the services that the application provides. For example, the Solaris secure shell daemon uses these service names: `sshd-none`, `sshd-password`, `sshd-kbdint`, `sshd-pubkey`, and `sshd-hostbased`. The service-name other is a predefined name that is used as a wildcard service-name. If a particular service-name is not found in the configuration file, the configuration for other is used.\\n\\n**module-type** - The type of service, that is, auth, account, session, or password.\\n\\n**control-flag** - Indicates the role of the module in determining the integrated success or failure value for the service. Valid control flags are binding, include, optional, required, requisite, and sufficient. See below how PAM Stacking Works for information on the use of these flags.\\n\\n**module-path** - The path to the library object that implements the service. If the pathname is not absolute, the pathname is assumed to be relative to `/usr/lib/security/$ISA/`. Use the architecture-dependent macro $ISA to cause `libpam` to look in the directory for the particular architecture of the application.\\n\\n**module-options** - Options that are passed to the service modules. A module\'s man page describes the options that are accepted by that module. Typical module options include `nowarn` and `debug`.\\n</details>\\n\\n<details>\\n  <summary>How PAM Stacking Works</summary>\\n\\nThe control flag indicates the role that a PAM module plays in determining access to the service. The control flags and their effects are:\\n\\n**Binding** \u2013 Success in meeting a binding module\'s requirements returns success immediately to the application if no previous required modules have failed. If these conditions are met, then no further execution of modules occurs. Failure causes a required failure to be recorded and the processing of modules to be continued.\\n\\n**Include** \u2013 Adds lines from a separate PAM configuration file to be used at this point in the PAM stack. This flag does not control success or failure behaviors. When a new file is read, the PAM include stack is incremented. When the stack check in the new file finishes, the include stack value is decremented. When the end of a file is reached and the PAM include stack is 0, then the stack processing ends. The maximum number for the PAM include stack is 32.\\n\\n**Optional** \u2013 Success in meeting an optional module\'s requirements is not necessary for using the service. Failure causes an optional failure to be recorded.\\n\\n**Required** \u2013 Success in meeting a required module\'s requirements is necessary for using the service. Failure results in an error return after the remaining modules for this service have been executed. Final success for the service is returned only if no binding or required modules have reported failures.\\n\\n**Requisite** \u2013 Success in meeting a requisite module\'s requirements is necessary for using the service. Failure results in an immediate error return with no further execution of modules. All requisite modules for a service must return success for the function to be able to return success to the application.\\n\\n**Sufficient** \u2013 If no previous required failures have occurred, success in a sufficient module returns success to the application immediately with no further execution of modules. Failure causes an optional failure to be recorded.\\n\\nThe following two diagrams shows how access is determined in the integration process. The first diagram indicates how success or failure is recorded for each type of control flag. The second diagram shows how the integrated value is determined.\\n\\n***Effect of Control Flags***\\n\\n![img](./pam.run_stack1.png)\\n\\n***How Integrated Value Is Determined***\\n\\n![img](./pam.run_stack2.png)\\n</details>\\n\\n:::\\n\\n### Passwordless sudo with U2F\\n\\nYou can use U2F key for Passwordless sudo i.e only the U2f key would be needed to run sudo commands\\n\\nWe can achieve this by editing the `/etc/pam.d/sudo` file\\n\\nAdd the following line to the TOP of the sudo file\\n\\n`auth            sufficient        pam_u2f.so authfile=/home/<username>/.config/Yubico/u2f_keys cue [cue_prompt=<Prompt we want to show to our users>]`\\n\\nExample:\\n\\n```text title=\\"/etc/pam.d/sudo\\"\\n#%PAM-1.0\\n// highlight-next-line\\nauth            sufficient      pam_u2f.so authfile=/home/<username>/.config/Yubico/u2f_keys cue [cue_prompt=Please Confirm Your Identity.]\\nauth            include         system-auth\\naccount         include         system-auth\\nsession         include         system-auth\\n\\n```\\n\\n## SSH Credentials\\n\\nFirst need to make sure the client has [OpenSSH 8.2](https://www.openssh.com/txt/release-8.2) or higher installed:\\n\\n```bash\\n$ ssh -V\\nOpenSSH_9.1p1, OpenSSL 3.0.7 1 Nov 2022\\n```\\n\\nTo generate a new SSH key pair, which can be either `ecdsa-sk` or `ed25519-sk` key pair. The `-sk` extension stands for **security key**. Please note that the `ed25519-sk` key pair is only supported by new YubiKeys with firmware 5.2.3 or higher that supports FIDO2. This means that YubiKeys with firmware below 5.2.3 are only compatible with ecdsa-sk key pairs. If possible, generate an `ed25519-sk` SSH key pair for [this reason](https://www.cryptsus.com/blog/how-to-secure-your-ssh-server-with-public-key-elliptic-curve-ed25519-crypto.html).\\n\\n:::tip\\n\\nYou can check the YubiKey firmware* version with the following command.\\n\\n```bash\\nlsusb -v 2>/dev/null | grep -A2 Yubico | grep \\"bcdDevice\\" | awk \'{print $2}\'\\n```\\n\\nOr we can use  [YubiKey Manager](#additional-information)\\n\\n![YubiKey Manager AppImage](yubikey-appimage.png)\\n\\n***\\\\*Yubico does not allow its firmware to be modified to minimize the physical attack surface.***\\n\\n:::\\n\\nIt is then possible to generate a credential file with:\\n\\n```bash\\nssh-keygen -t ed25519-sk -C \\"$(hostname)-Yubikey\\"\\n```\\n\\n![ssh-keygen](ssh-keygen-ed25519-sk.png)\\n\\n![ssh-keys](ssh-keys.png)\\n\\nAdd your new public key to the remote host\\n\\n```bash\\nssh-copy-id -i ~/.ssh/id_ed25519_sk.pub user@192.168.1.1\\n```\\n\\nUse:\\n\\n```bash\\nssh -i ~/.ssh/id_ed25519_sk user@192.168.1.1\\n```\\n\\n## Additional information\\n\\n:::info\\n\\n* [YubiKey Manager AppImage](https://developers.yubico.com/yubikey-manager-qt/Releases/yubikey-manager-qt-latest-linux.AppImage)\\n* [SoloKeys (open-source hardware and firmware) as an alternative to YubiKeys (closed source)](https://solokeys.com/)\\n* [pam-u2f](https://github.com/Yubico/pam-u2f)\\n* [PAM base-stack in Arch Linux](https://wiki.archlinux.org/title/PAM#PAM_base-stack)\\n* [Linux user authentication with PAM](https://wiki.archlinux.org/title/YubiKey#Linux_user_authentication_with_PAM)\\n* [More information for module arguments](https://github.com/Yubico/pam-u2f#module-arguments)\\n* [YubiKey Full Disk Encryption](https://github.com/agherzan/yubikey-full-disk-encryption)\\n* [Installing Yubico Software on Linux](https://support.yubico.com/hc/en-us/articles/360016649039-Installing-Yubico-Software-on-Linux)\\n* [Using Your U2F YubiKey with Linux](https://support.yubico.com/hc/en-us/articles/360013708900-Using-Your-U2F-YubiKey-with-Linux)\\n* [Yubico Support](https://support.yubico.com/)\\n\\n:::"},{"id":"Bandwidth-ZeroTier-on-NXP-LS1046","metadata":{"permalink":"/blog/Bandwidth-ZeroTier-on-NXP-LS1046","editUrl":"https://github.com/IgorKha/igorkha.github.io/tree/main/blog/2022-04-27-Bandwidth-ZeroTier-on-NXP-LS1046.mdx","source":"@site/blog/2022-04-27-Bandwidth-ZeroTier-on-NXP-LS1046.mdx","title":"Bandwidth ZeroTier on NXP LS1046","description":"Devices","date":"2022-04-27T00:00:00.000Z","formattedDate":"April 27, 2022","tags":[{"label":"benchmark","permalink":"/blog/tags/benchmark"},{"label":"zerotier","permalink":"/blog/tags/zerotier"},{"label":"nxp","permalink":"/blog/tags/nxp"},{"label":"networks","permalink":"/blog/tags/networks"}],"readingTime":2.85,"hasTruncateMarker":true,"authors":[{"name":"IgorKha","url":"https://github.com/IgorKha","imageURL":"https://github.com/IgorKha.png","key":"IgorKha"}],"frontMatter":{"slug":"Bandwidth-ZeroTier-on-NXP-LS1046","title":"Bandwidth ZeroTier on NXP LS1046","authors":"IgorKha","tags":["benchmark","zerotier","nxp","networks"]},"prevItem":{"title":"Arch Linux with U2F","permalink":"/blog/arch-linux-with-u2f"}},"content":"import Tabs from \'@theme/Tabs\';\\nimport TabItem from \'@theme/TabItem\';\\nimport CodeBlock from \'@theme/CodeBlock\';\\nimport BrowserWindow from \'@site/src/components/BrowserWindow\';\\n\\n## Devices\\n\\n| **Device**          | **OS**           | **kernel** | **link** | **ZeroTier ver.** |\\n|:-------------------:|:----------------:|:----------:|:--------:|:-----------------:|\\n| [NXP LS1046A-RDB](https://www.nxp.com/design/qoriq-developer-resources/layerscape-ls1046a-reference-design-board:LS1046A-RDB)     | OpenWRT 21.02.02 | 5.4.179    | 10Gbps   | **1.6.6**         |\\n| [NXP LS1046A Forlinx](https://www.forlinx.net/product/ls1046a-single-board-computer-22.html) | OpenWRT 21.02.02 | 5.4.179    | 10Gbps   | **1.6.6**         |\\n\\n\x3c!--truncate--\x3e\\n\\n## ZeroTier Flow Rules\\n\\n<BrowserWindow>\\n\\n```text title=\\"default zt flow rules\\"\\ndrop\\n    not ethertype ipv4\\n    and not ethertype arp\\n    and not ethertype ipv6\\n;\\naccept;\\n```\\n</BrowserWindow>\\n\\n## Result\\n\\n<Tabs>\\n  <TabItem value=\\"parallel-1\\" label=\\"iperf 1 thread\\" default>\\n  <BrowserWindow>\\n    <CodeBlock language=\\"text\\" title=\\"iperf -c 172.22.36.168 -t 30\\">\\n      {`------------------------------------------------------------\\nClient connecting to 172.22.36.168, TCP port 5001\\nTCP window size:  238 KByte (default)\\n------------------------------------------------------------\\n[  3] local 172.22.117.147 port 38266 connected with 172.22.36.168 port 5001\\n[ ID] Interval       Transfer     Bandwidth\\n[  3]  0.0-30.0 sec  1.47 GBytes   421 Mbits/sec`}\\n    </CodeBlock>\\n  </BrowserWindow>\\n  </TabItem>\\n  <TabItem value=\\"parallel-20\\" label=\\"iperf 20 threads\\">\\n  <BrowserWindow>\\n    <CodeBlock language=\\"text\\" title=\\"iperf -c 172.22.36.168 -P 20 -t 60\\">\\n      {`------------------------------------------------------------\\nClient connecting to 172.22.36.168, TCP port 5001\\nTCP window size: 2.45 MByte (default)\\n------------------------------------------------------------\\n[ 19] local 172.22.117.147 port 44320 connected with 172.22.36.168 port 5001\\n[  3] local 172.22.117.147 port 44288 connected with 172.22.36.168 port 5001\\n[  5] local 172.22.117.147 port 44292 connected with 172.22.36.168 port 5001\\n[ 10] local 172.22.117.147 port 44302 connected with 172.22.36.168 port 5001\\n[  4] local 172.22.117.147 port 44290 connected with 172.22.36.168 port 5001\\n[  6] local 172.22.117.147 port 44294 connected with 172.22.36.168 port 5001\\n[  9] local 172.22.117.147 port 44300 connected with 172.22.36.168 port 5001\\n[ 17] local 172.22.117.147 port 44316 connected with 172.22.36.168 port 5001\\n[ 13] local 172.22.117.147 port 44308 connected with 172.22.36.168 port 5001\\n[  8] local 172.22.117.147 port 44298 connected with 172.22.36.168 port 5001\\n[ 18] local 172.22.117.147 port 44318 connected with 172.22.36.168 port 5001\\n[ 14] local 172.22.117.147 port 44310 connected with 172.22.36.168 port 5001\\n[ 21] local 172.22.117.147 port 44324 connected with 172.22.36.168 port 5001\\n[  7] local 172.22.117.147 port 44296 connected with 172.22.36.168 port 5001\\n[ 20] local 172.22.117.147 port 44322 connected with 172.22.36.168 port 5001\\n[ 12] local 172.22.117.147 port 44306 connected with 172.22.36.168 port 5001\\n[ 11] local 172.22.117.147 port 44304 connected with 172.22.36.168 port 5001\\n[ 16] local 172.22.117.147 port 44314 connected with 172.22.36.168 port 5001\\n[ 22] local 172.22.117.147 port 44326 connected with 172.22.36.168 port 5001\\n[ 15] local 172.22.117.147 port 44312 connected with 172.22.36.168 port 5001\\n[ ID] Interval       Transfer     Bandwidth\\n[  4]  0.0-60.0 sec   153 MBytes  21.3 Mbits/sec\\n[  8]  0.0-60.0 sec   165 MBytes  23.1 Mbits/sec\\n[ 18]  0.0-60.0 sec   164 MBytes  23.0 Mbits/sec\\n[  7]  0.0-60.0 sec   167 MBytes  23.3 Mbits/sec\\n[ 11]  0.0-60.0 sec   180 MBytes  25.2 Mbits/sec\\n[ 19]  0.0-60.1 sec   135 MBytes  18.8 Mbits/sec\\n[ 20]  0.0-60.1 sec   148 MBytes  20.6 Mbits/sec\\n[ 15]  0.0-60.1 sec   207 MBytes  28.9 Mbits/sec\\n[ 22]  0.0-60.2 sec   204 MBytes  28.5 Mbits/sec\\n[ 17]  0.0-60.2 sec   145 MBytes  20.2 Mbits/sec\\n[  5]  0.0-60.3 sec   141 MBytes  19.6 Mbits/sec\\n[ 14]  0.0-60.3 sec   148 MBytes  20.7 Mbits/sec\\n[ 12]  0.0-60.3 sec   174 MBytes  24.2 Mbits/sec\\n[ 16]  0.0-60.3 sec   145 MBytes  20.2 Mbits/sec\\n[ 21]  0.0-60.3 sec   160 MBytes  22.3 Mbits/sec\\n[ 10]  0.0-60.4 sec   195 MBytes  27.1 Mbits/sec\\n[  6]  0.0-60.4 sec   192 MBytes  26.6 Mbits/sec\\n[  9]  0.0-60.7 sec   104 MBytes  14.3 Mbits/sec\\n[ 13]  0.0-60.9 sec   149 MBytes  20.6 Mbits/sec\\n[  3]  0.0-61.0 sec   142 MBytes  19.6 Mbits/sec\\n[SUM]  0.0-61.0 sec  3.14 GBytes   443 Mbits/sec`}\\n    </CodeBlock>\\n  </BrowserWindow>\\n  </TabItem>\\n</Tabs>"}]}')}}]);
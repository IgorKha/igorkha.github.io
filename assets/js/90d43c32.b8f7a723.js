"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[829],{8215:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7294);function a(e){var t=e.children,n=e.hidden,a=e.className;return r.createElement("div",{role:"tabpanel",hidden:n,className:a},t)}},9877:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(7462),a=n(7294),o=n(2389),l=n(5979),i=n(6010),s="tabItem_LplD";function c(e){var t,n,o,c=e.lazy,u=e.block,p=e.defaultValue,d=e.values,h=e.groupId,m=e.className,b=a.Children.map(e.children,(function(e){if((0,a.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=d?d:b.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),g=(0,l.lx)(f,(function(e,t){return e.value===t.value}));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===p?p:null!=(t=null!=p?p:null==(n=b.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(o=b[0])?void 0:o.props.value;if(null!==v&&!f.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+f.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var k=(0,l.UB)(),w=k.tabGroupChoices,y=k.setTabGroupChoices,N=(0,a.useState)(v),M=N[0],T=N[1],B=[],Z=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=h){var x=w[h];null!=x&&x!==M&&f.some((function(e){return e.value===x}))&&T(x)}var I=function(e){var t=e.currentTarget,n=B.indexOf(t),r=f[n].value;r!==M&&(Z(t),T(r),null!=h&&y(h,r))},D=function(e){var t,n=null;switch(e.key){case"ArrowRight":var r=B.indexOf(e.currentTarget)+1;n=B[r]||B[0];break;case"ArrowLeft":var a=B.indexOf(e.currentTarget)-1;n=B[a]||B[B.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":u},m)},f.map((function(e){var t=e.value,n=e.label,o=e.attributes;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:M===t?0:-1,"aria-selected":M===t,key:t,ref:function(e){return B.push(e)},onKeyDown:D,onFocus:I,onClick:I},o,{className:(0,i.Z)("tabs__item",s,null==o?void 0:o.className,{"tabs__item--active":M===t})}),null!=n?n:t)}))),c?(0,a.cloneElement)(b.filter((function(e){return e.props.value===M}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},b.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==M})}))))}function u(e){var t=(0,o.Z)();return a.createElement(c,(0,r.Z)({key:String(t)},e))}},8340:function(e,t,n){n.r(t),n.d(t,{assets:function(){return h},contentTitle:function(){return p},default:function(){return f},frontMatter:function(){return u},metadata:function(){return d},toc:function(){return m}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),l=n(9877),i=n(8215),s=n(8066),c=["components"],u={slug:"Bandwidth-ZeroTier-on-NXP-LS1046",title:"Bandwidth ZeroTier on NXP LS1046",authors:"IgorKha",tags:["test","zerotier","nxp"]},p=void 0,d={permalink:"/blog/Bandwidth-ZeroTier-on-NXP-LS1046",editUrl:"https://github.com/IgorKha/igorkha.github.io/tree/main/blog/2022-04-27-Bandwidth-ZeroTier-on-NXP-LS1046.mdx",source:"@site/blog/2022-04-27-Bandwidth-ZeroTier-on-NXP-LS1046.mdx",title:"Bandwidth ZeroTier on NXP LS1046",description:"Devices",date:"2022-04-27T00:00:00.000Z",formattedDate:"April 27, 2022",tags:[{label:"test",permalink:"/blog/tags/test"},{label:"zerotier",permalink:"/blog/tags/zerotier"},{label:"nxp",permalink:"/blog/tags/nxp"}],readingTime:2.8,truncated:!0,authors:[{name:"IgorKha",url:"https://github.com/IgorKha",imageURL:"https://github.com/IgorKha.png",key:"IgorKha"}],frontMatter:{slug:"Bandwidth-ZeroTier-on-NXP-LS1046",title:"Bandwidth ZeroTier on NXP LS1046",authors:"IgorKha",tags:["test","zerotier","nxp"]}},h={authorsImageUrls:[void 0]},m=[{value:"Devices",id:"devices",level:2},{value:"ZeroTier Flow Rules",id:"zerotier-flow-rules",level:2},{value:"Result",id:"result",level:2}],b={toc:m};function f(e){var t=e.components,n=(0,a.Z)(e,c);return(0,o.kt)("wrapper",(0,r.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"devices"},"Devices"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"Device")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"OS")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"kernel")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"link")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"ZeroTier ver.")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("a",{parentName:"td",href:"https://www.nxp.com/design/qoriq-developer-resources/layerscape-ls1046a-reference-design-board:LS1046A-RDB"},"NXP LS1046A-RDB")),(0,o.kt)("td",{parentName:"tr",align:"center"},"OpenWRT 21.02.02"),(0,o.kt)("td",{parentName:"tr",align:"center"},"5.4.179"),(0,o.kt)("td",{parentName:"tr",align:"center"},"10Gbps"),(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},"1.6.6"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("a",{parentName:"td",href:"https://www.forlinx.net/product/ls1046a-single-board-computer-22.html"},"NXP LS1046A Forlinx")),(0,o.kt)("td",{parentName:"tr",align:"center"},"OpenWRT 21.02.02"),(0,o.kt)("td",{parentName:"tr",align:"center"},"5.4.179"),(0,o.kt)("td",{parentName:"tr",align:"center"},"10Gbps"),(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},"1.6.6"))))),(0,o.kt)("h2",{id:"zerotier-flow-rules"},"ZeroTier Flow Rules"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="default zt flow rules"',title:'"default',zt:!0,flow:!0,'rules"':!0},"drop\n    not ethertype ipv4\n    and not ethertype arp\n    and not ethertype ipv6\n;\naccept;\n")),(0,o.kt)("h2",{id:"result"},"Result"),(0,o.kt)(l.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"parallel-1",label:"iperf 1 thread",default:!0,mdxType:"TabItem"},(0,o.kt)(s.Z,{language:"text",title:"iperf -c 172.22.36.168 -t 30",mdxType:"CodeBlock"},"------------------------------------------------------------\nClient connecting to 172.22.36.168, TCP port 5001\nTCP window size:  238 KByte (default)\n------------------------------------------------------------\n[  3] local 172.22.117.147 port 38266 connected with 172.22.36.168 port 5001\n[ ID] Interval       Transfer     Bandwidth\n[  3]  0.0-30.0 sec  1.47 GBytes   421 Mbits/sec")),(0,o.kt)(i.Z,{value:"parallel-20",label:"iperf 20 threads",mdxType:"TabItem"},(0,o.kt)(s.Z,{language:"text",title:"iperf -c 172.22.36.168 -P 20 -t 60",mdxType:"CodeBlock"},"------------------------------------------------------------\nClient connecting to 172.22.36.168, TCP port 5001\nTCP window size: 2.45 MByte (default)\n------------------------------------------------------------\n[ 19] local 172.22.117.147 port 44320 connected with 172.22.36.168 port 5001\n[  3] local 172.22.117.147 port 44288 connected with 172.22.36.168 port 5001\n[  5] local 172.22.117.147 port 44292 connected with 172.22.36.168 port 5001\n[ 10] local 172.22.117.147 port 44302 connected with 172.22.36.168 port 5001\n[  4] local 172.22.117.147 port 44290 connected with 172.22.36.168 port 5001\n[  6] local 172.22.117.147 port 44294 connected with 172.22.36.168 port 5001\n[  9] local 172.22.117.147 port 44300 connected with 172.22.36.168 port 5001\n[ 17] local 172.22.117.147 port 44316 connected with 172.22.36.168 port 5001\n[ 13] local 172.22.117.147 port 44308 connected with 172.22.36.168 port 5001\n[  8] local 172.22.117.147 port 44298 connected with 172.22.36.168 port 5001\n[ 18] local 172.22.117.147 port 44318 connected with 172.22.36.168 port 5001\n[ 14] local 172.22.117.147 port 44310 connected with 172.22.36.168 port 5001\n[ 21] local 172.22.117.147 port 44324 connected with 172.22.36.168 port 5001\n[  7] local 172.22.117.147 port 44296 connected with 172.22.36.168 port 5001\n[ 20] local 172.22.117.147 port 44322 connected with 172.22.36.168 port 5001\n[ 12] local 172.22.117.147 port 44306 connected with 172.22.36.168 port 5001\n[ 11] local 172.22.117.147 port 44304 connected with 172.22.36.168 port 5001\n[ 16] local 172.22.117.147 port 44314 connected with 172.22.36.168 port 5001\n[ 22] local 172.22.117.147 port 44326 connected with 172.22.36.168 port 5001\n[ 15] local 172.22.117.147 port 44312 connected with 172.22.36.168 port 5001\n[ ID] Interval       Transfer     Bandwidth\n[  4]  0.0-60.0 sec   153 MBytes  21.3 Mbits/sec\n[  8]  0.0-60.0 sec   165 MBytes  23.1 Mbits/sec\n[ 18]  0.0-60.0 sec   164 MBytes  23.0 Mbits/sec\n[  7]  0.0-60.0 sec   167 MBytes  23.3 Mbits/sec\n[ 11]  0.0-60.0 sec   180 MBytes  25.2 Mbits/sec\n[ 19]  0.0-60.1 sec   135 MBytes  18.8 Mbits/sec\n[ 20]  0.0-60.1 sec   148 MBytes  20.6 Mbits/sec\n[ 15]  0.0-60.1 sec   207 MBytes  28.9 Mbits/sec\n[ 22]  0.0-60.2 sec   204 MBytes  28.5 Mbits/sec\n[ 17]  0.0-60.2 sec   145 MBytes  20.2 Mbits/sec\n[  5]  0.0-60.3 sec   141 MBytes  19.6 Mbits/sec\n[ 14]  0.0-60.3 sec   148 MBytes  20.7 Mbits/sec\n[ 12]  0.0-60.3 sec   174 MBytes  24.2 Mbits/sec\n[ 16]  0.0-60.3 sec   145 MBytes  20.2 Mbits/sec\n[ 21]  0.0-60.3 sec   160 MBytes  22.3 Mbits/sec\n[ 10]  0.0-60.4 sec   195 MBytes  27.1 Mbits/sec\n[  6]  0.0-60.4 sec   192 MBytes  26.6 Mbits/sec\n[  9]  0.0-60.7 sec   104 MBytes  14.3 Mbits/sec\n[ 13]  0.0-60.9 sec   149 MBytes  20.6 Mbits/sec\n[  3]  0.0-61.0 sec   142 MBytes  19.6 Mbits/sec\n[SUM]  0.0-61.0 sec  3.14 GBytes   443 Mbits/sec"))))}f.isMDXComponent=!0}}]);